redef_args is

  o := stdout

  chck(b bool, msg string) is
    s string
    if b
      s = "PASSED: "
    else
      s = "FAILED: "
    o.println(s + msg)

  Complex<T>(r, i T) is
  Complex1(r, i i32) is
  Complex2(rr, ii i32) : Complex<i32>(rr, ii) is
  Complex3(redefine r, i i32) : Complex<i32>(r, i) is
  Complex4(redefine r, i i32) : Complex3(r, i) is

  check(Complex<i32>(3,4).r == 3, "generic field r set correctly")
  check(Complex<i32>(3,4).i == 4, "generic field i set correctly")
  check(Complex1    (3,4).r == 3, "non-generic field r set correctly")
  check(Complex1    (3,4).i == 4, "non-generic field i set correctly")
  check(Complex2    (3,4).r == 3, "inherited generic field r set correctly")
  check(Complex2    (3,4).i == 4, "inherited generic field i set correctly")
  check(Complex2    (3,4).rr == 3, "non-generic field rr set correctly")
  check(Complex2    (3,4).ii == 4, "non-generic field ii set correctly")
  check(Complex3    (3,4).r == 3, "redefined generic field r set correctly")
  check(Complex3    (3,4).i == 4, "redefined generic field i set correctly")
  c Complex<i32> = Complex3(3,4)
  check(c                .r == 3, "redefined generic field r accessed through super feature set correctly")
  check(c                .i == 4, "redefined generic field i accessed through super feature set correctly")
  check(Complex4    (3,4).r == 3, "double redefined generic field r set correctly")
  check(Complex4    (3,4).i == 4, "double redefined generic field i set correctly")
  c Complex<i32> = Complex4(3,4)
  check(c           (3,4).r == 3, "double redefined generic field r accessed through super-super feature set correctly")
  check(c           (3,4).i == 4, "double redefined generic field i accessed through super-super feature set correctly")
  c3 Complex3 = Complex4(3,4)
  check(c3               .r == 3, "double redefined generic field r accessed through super feature set correctly")
  check(c3               .i == 4, "double redefined generic field i accessed through super feature set correctly")
