# This file is part of the Fuzion language implementation.
#
# The Fuzion language implementation is free software: you can redistribute it
# and/or modify it under the terms of the GNU General Public License as published
# by the Free Software Foundation, version 3 of the License.
#
# The Fuzion language implementation is distributed in the hope that it will be
# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
# License for more details.
#
# You should have received a copy of the GNU General Public License along with The
# Fuzion language implementation.  If not, see <https://www.gnu.org/licenses/>.


# -----------------------------------------------------------------------
#
#  Tokiwa Software GmbH, Germany
#
#  Source code of Fuzion standard library feature fuzion.java
#
#  Author: Fridtjof Siebert (siebert@tokiwa.software)
#
# -----------------------------------------------------------------------

public fuzion.java is

  public getStaticField<T>(clazz string, field string) T is intrinsic

  public JavaObject(private javaRef Object) ref
  is
    isNull => false   # NYI: comparing Java ref to 'null'


  # Call a virtual Java method with given name and signature on instance thiz
  # with given arguments
  #
  #
  #
  public callVirtual(name string,
                     signature string,
                     thiz JavaObject,
                     args array<JavaObject>) JavaObject
  pre
    safety: !thiz.isNull
  is
    callV0 name signature thiz args.internalArray


  # intrinsic to call given Java method
  #
  private callV0(name string,
                 signature string,
                 thiz JavaObject,
                 args sys.array<JavaObject>) JavaObject is intrinsic


  # convert a string to a Java string object
  #
  public stringToJavaObject(s string) JavaObject is
    stringToJavaObject0 s


  # intrinsic to convert a string to a Java string object
  #
  private stringToJavaObject0(s string) JavaObject is intrinsic
